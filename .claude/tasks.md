# Ruby WASM Sound Visualizer - Project Tasks

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é€²è¡ŒçŠ¶æ³ã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã®ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã€‚

## ğŸš€ è»½é‡ã‚¿ã‚¹ã‚¯ (Quick Wins)

- [x] ç”»é¢å·¦ä¸‹ã®æƒ…å ±ã‚¨ãƒªã‚¢ã‚’ 4 è¡Œã«ã¾ã¨ã‚ã‚‹ï¼ˆæ–‡å­—ã‚µã‚¤ã‚ºã‚‚å°ã•ãã™ã‚‹ï¼‰ ğŸŒ
  - Ruby WASM Sound Visualizer è¡¨ç¤ºã¯ä¸è¦
  - æœ€ä¸‹æ®µã¯ã‚­ãƒ¼ãƒãƒƒãƒ—ã‚’ç¶­æŒ
  - ãã®ä»–ã®æƒ…å ±ã¯è¡Œã‚’ã¾ã¨ã‚ã‚‹
  - Plan: [info-area-compact.md](plans/info-area-compact.md)

- [x] ã‚¬ã‚¤ãƒ‰è³‡æ–™ã‚’ä½œæˆã™ã‚‹ ğŸŒ
  - ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼æ“ä½œã‚¬ã‚¤ãƒ‰
  - 3D åŸºç¤ã‚¬ã‚¤ãƒ‰
  - 3D ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ»ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ç”¨èªé›†
  - VRM é–¢é€£ã‚¬ã‚¤ãƒ‰
  - JavaScript-ruby.wasm é€£æºã‚¬ã‚¤ãƒ‰
  - ruby.wasm æŠ€è¡“ã‚¬ã‚¤ãƒ‰
  - Plan: [guide-documents.md](plans/guide-documents.md)

- [x] CLAUDE.md ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹
  - 2026 å¹´ 2 æœˆ Claude Code ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«æº–æ‹ 
  - Skills ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ­ãƒ¼ã‚«ãƒ«ã§å®šç¾©
  - æ§‹æˆã‚’ç°¡æ½”ã«æ•´ç†ã—ã€å†—é•·æ€§ã‚’å‰Šæ¸›
  - Table of Contents ã‚’è¿½åŠ 

## ğŸ“Š ä¸­é‡ç´šã‚¿ã‚¹ã‚¯ (Medium)

- [x] å°‘ã—éŸ³ã‚’ä¸Šã’ã‚‹ã¨ãƒˆãƒ¼ãƒ©ã‚¹ã¨VRMãŒç”»é¢ã„ã£ã±ã„ã«ãƒ›ãƒ¯ã‚¤ãƒˆã‚¢ã‚¦ãƒˆçŠ¶æ…‹ã«é£½å’Œã™ã‚‹ ğŸ–¥ï¸
  - ãƒ›ãƒ¯ã‚¤ãƒˆã‚¢ã‚¦ãƒˆãŒç¶šã„ã¦ã¯ç”»é¢è¡¨ç¤ºãŒã‚ã‹ã‚‰ãªã„ã—ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãŒç›®ç«‹ãŸãªããªã‚‹ã—ã‚„ã‚Šã™ãã«ãªã£ã¦ã—ã¾ã†ã€‚ãŸã ã—é©åˆ‡ãªåº¦åˆã„ã¯å®Ÿéš›ã«ãƒ­ã‚°ã‚„ç”»é¢è¡¨ç¤ºã¨ãƒã‚¤ã‚¯ã‹ã‚‰ã®éŸ³å…¥åŠ›ãŒå¿…è¦ã«ãªã‚‹ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿

- [ ] BPMã®åˆ¤å®šãŒå®Ÿæ¸¬FPSã¨ä¹–é›¢ã™ã‚‹

  - P2 Badge Use measured FPS below 30 when estimating BPM
    - This call clamps fps to at least 30 before passing it into BPMEstimator, so any real frame rate in the 10â€“29 FPS range is treated as 30 FPS and BPM is systematically overestimated on slower devices (for example, a true 120 BPM stream at ~15 FPS will be reported near double). BPMEstimator already contains its own low-FPS guard (fps < 10), so this pre-clamp removes valid signal and regresses accuracy under load.

- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚° ğŸ–¥ï¸
  - å®Ÿéš›ã«Chromeã«æ¥ç¶šã—ã¦ã€FPS30ã‚’ç›®æŒ‡ã™

- [ ] è‰²ç›¸ã®å¤‰åŒ–ã‚’ä½éŸ³ãƒ»ä¸­éŸ³ãƒ»é«˜éŸ³ã® 3 ãƒãƒ³ãƒ‰ã§å®Ÿè£… ğŸŒ
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ 1, 2, 3 ã§åŸºæœ¬è‰²ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ(ãƒ“ãƒ“ãƒƒãƒ‰ãƒ¬ãƒƒãƒ‰ã€ã‚·ãƒ§ãƒƒã‚­ãƒ³ã‚°ã‚¤ã‚¨ãƒ­ãƒ¼ã€ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºãƒ–ãƒ«ãƒ¼)
  - å„ãƒ¢ãƒ¼ãƒ‰ã§åŸºæœ¬è‰²ã‚’ä¸­å¿ƒã«å‰å¾Œ70åº¦ã®è‰²ç›¸ç¯„å›²ã§3ãƒãƒ³ãƒ‰ã«å‰²ã‚Šä»˜ã‘ã¦å¤‰åŒ–ã•ã›ã‚‹
  - Plan: [three-band-hue.md](plans/three-band-hue.md)

- [ ] Brightness/Lightness æŠ‘åˆ¶ç”¨ã®æç”»ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ  ğŸŒ
  - è¨ˆç®—å¼ã‹ã‚‰ MAX å€¤ã‚’é™¤å¤–å¯èƒ½ã«ã™ã‚‹
  - è¨­å®šæ¼ã‚Œã‚’é˜²ã
  - Plan: [brightness-control-layer.md](plans/brightness-control-layer.md)

- [x] è¨­å®šå€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä¸€å…ƒç®¡ç† ğŸŒ
  - å„ã‚¯ãƒ©ã‚¹ã¯æŒ¯ã‚‹èˆã„ã®ã¿ã«é›†ä¸­
  - è¨­å®šå€¤ã¯å…±æœ‰ã®å®šæ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å‚ç…§
  - Plan: [config-centralization.md](plans/config-centralization.md)

- [x] DevTool ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰å‹•çš„ã«è¨­å®šå€¤ã‚’å¤‰æ›´ã§ãã‚‹ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£… ğŸŒ
  - Ruby-JS ç›¸äº’é‹ç”¨ã§å‹•çš„ã«å€¤ã‚’åæ˜ 
  - ãƒ‡ãƒãƒƒã‚°åŠ¹ç‡å‘ä¸Š
  - Plan: [devtool-interface.md](plans/devtool-interface.md)
  - Depends on: è¨­å®šå€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä¸€å…ƒç®¡ç†

## ğŸ—ï¸ é‡é‡ç´šã‚¿ã‚¹ã‚¯ (Major Refactoring)

- [x] Ruby ã®ã‚¯ãƒ©ã‚¹ã¨æŒ¯ã‚‹èˆã„ã‚’æ§‹é€ åŒ–ã—ã¦ã€å¤‰æ›´ã®å½±éŸ¿ã‚’å±€æ‰€åŒ– ğŸŒ
  - ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ â†’ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–
  - å„ã‚¯ãƒ©ã‚¹ã®è²¬ä»»ã‚’æ˜ç¢ºåŒ–
  - å¤‰æ›´ã®æ³¢åŠç¯„å›²ã‚’æœ€å°åŒ–
  - Plan: [ruby-class-restructure.md](plans/ruby-class-restructure.md)

- [x] JavaScript ã®ã‚³ãƒ¼ãƒ‰ã‚’æœ€å°åŒ–ã—ã¦ ruby.wasm ã«å¯„ã›ã‚‹ ğŸŒ
  - ãƒ­ã‚¸ãƒƒã‚¯å±¤ã‚’ Ruby ã«é›†ç´„
  - JavaScript ã¯ WebGL æ“ä½œã®ã¿
  - Ruby-JS ç›¸äº’é‹ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¨™æº–åŒ–
  - Plan: [js-to-ruby-migration.md](plans/js-to-ruby-migration.md)
  - Depends on: Ruby ã®ã‚¯ãƒ©ã‚¹ã¨æŒ¯ã‚‹èˆã„ã‚’æ§‹é€ åŒ–

- [x] ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã‚’ Claude Code ãŒèª­ã‚ã‚‹ã‚ˆã†ã«å¯è¦–åŒ– ğŸŒ
  - Chrome MCP ãƒ„ãƒ¼ãƒ«é€£æºå¼·åŒ–
  - ã‚ªãƒ–ã‚¶ãƒ¼ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š
  - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¾å­˜åº¦ã‚’å‰Šæ¸›
  - Plan: [console-log-visibility.md](plans/console-log-visibility.md)
  - Note: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ Web ã§å¯èƒ½ã€æœ€çµ‚æ¤œè¨¼ã¯ãƒ­ãƒ¼ã‚«ãƒ« Chrome MCP ãŒå¿…è¦

- [ ] ç”»é¢ä¸Šã§ Ruby ã§å‘½ä»¤ã‚’ã‹ã‘ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒªã‚¢ã‚’å®Ÿè£… ğŸŒ
  - VJ ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…
  - å‘½ä»¤ DSL ã®è¨­è¨ˆãƒ»é–‹ç™º
  - ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®å‹•çš„åˆ¶å¾¡
  - Plan: [prompt-area.md](plans/prompt-area.md)
  - Depends on: è¨­å®šå€¤ã®ä¸€å…ƒç®¡ç†, Ruby ã‚¯ãƒ©ã‚¹æ§‹é€ åŒ–

## ğŸ“ Notes

- ã‚¿ã‚¹ã‚¯ã¯ä¸Šã‹ã‚‰é †ã«æ¨å¥¨å®Ÿè¡Œé †åº
- è»½é‡ã‚¿ã‚¹ã‚¯ â†’ ä¸­é‡ç´šã‚¿ã‚¹ã‚¯ â†’ é‡é‡ç´šã‚¿ã‚¹ã‚¯ ã¨ã„ã†æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
- é‡é‡ç´šã‚¿ã‚¹ã‚¯ã¯è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºã‹ã‚‰ä¸å¯§ã«é€²ã‚ã‚‹
- å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ + ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç¢ºèªã‚’å®Ÿæ–½
- ğŸŒ = Claude Code on Web ã§å®Ÿæ–½å¯èƒ½
- ğŸ–¥ï¸ = ãƒ­ãƒ¼ã‚«ãƒ« Claude Code ã®ã¿ï¼ˆChrome MCP + ãƒã‚¤ã‚¯å…¥åŠ›ãŒå¿…è¦ï¼‰
- Plan ãƒ•ã‚¡ã‚¤ãƒ«ã¯ `.claude/plans/` ã«æ ¼ç´
